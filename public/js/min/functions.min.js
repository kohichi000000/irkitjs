function buttonListMaker(){if(define.status.data){buttonArray=JSON.parse(localStorage.getItem("irkitJsData")),newButtonArray=[];for(var t=0;t<buttonArray.length;t++)newButtonObj={buttonId:t,buttonData:buttonArray[t].buttonData,buttonName:buttonArray[t].buttonName},newButtonArray.push(newButtonObj),$("ul.buttonList").prepend('\n        <li data-button-id="'+t+'">\n          <button class="remoteControllers">'+buttonArray[t].buttonName+'</button>\n          <div class="delete subButton"></div>\n          <div class="edit subButton"></div>\n          <div class="sortUp subButton"></div>\n          <div class="sortDown subButton"></div>\n        </li>\n      ');0!=newButtonArray.length&&(localStorage.removeItem("irkitJsData"),storeToStorageSimple(newButtonArray,"irkitJsData")),buttonListPosition()}}function buttonListPosition(){buttonListArray=$("ul.buttonList").children("li"),buttonListArrayHeight=buttonListArray.height();for(var t=0;t<buttonListArray.length;t++)$(buttonListArray[t]).animate({top:buttonListArrayHeight*t},0)}function buttonIdSort(t){return t.sort(function(t,e){return t.buttonId<e.buttonId?-1:t.buttonId>e.buttonId?1:0}),t}function initFunction(){0==define.loadCounter&&(ajaxLinkClick(),addButton(),define.loadCounter++),initContentHeight(),buttonListMaker(),dataInitialize(),controllerSwiper()}function registerFunction(){getAppsKey(),getClientkey(),selectVisualControll(),getSerializeKey(),initContentHeight(),ajaxLinkClick(),initThanks()}function getAppsKey(){$("#getAppsKey").click(function(){$.ajax({url:define.url.apps,type:"POST",dataType:"json",data:{email:$("#getAppsKeyBody").val()}}).done(function(){storeToStorageSimple($("#getAppsKeyBody").val(),"email"),ajaxGetPage("init.clientkey.html")}).fail(function(t){console.log(t),localStorage.clear()})})}function getClientkey(){$("#getClientKey").click(function(){$.ajax({url:define.url.clients,type:"POST",dataType:"json",data:{apikey:$("#getClientKeyBody").val()}}).done(function(t){console.log("getClientkey is success"),storeToStorageSimple($("#getClientKeyBody").val(),"apikey"),storeToStorageSimple(t.clientkey,"clientkey"),getDeviceId()}).fail(function(){console.log("getClientkey is error"),localStorage.clear()}).always(function(){console.log("getClientkey is complete")})})}function getDeviceId(){$.ajax({url:define.url.devices,type:"POST",dataType:"json",data:{clientkey:getFromStorage("clientkey")}}).done(function(t){storeToStorage(t,"devicekey"),storeToStorage(t,"deviceid"),ajaxGetPage("init.wifi.html"),console.log("getDeviceId is success")}).fail(function(){console.log("getDeviceId is error"),localStorage.clear()}).always(function(){console.log("getDeviceId is complete")})}function getWifiSetting(t,e){console.log(t),storeToStorage(e,"recieveThanks"),$("#wifiSetting").click(function(){console.log("getWifiSetting is success"),$("#contents").children().animate({"margin-left":"-50%",opacity:"0"},define.a,function(){$(this).remove(),$("#contents").prepend(t),initFunction(),$("#contents").children().css({"margin-left":"50%",opacity:"0"}).animate({"margin-left":"0",opacity:"1"},define.a,function(){registerFunction(),console.log("registerFunction is excuted")})})})}function selectVisualControll(){var t=function(t){switch(t){case"0":return"WPA_WPA2";case"1":return"WEP";case"2":return"NONE"}};$("#selectVisual").text(t($("#getSecurityType").val())),$("#getSecurityType").change(function(){$("#selectVisual").text(t($("#getSecurityType").val()))})}function getSerializeKey(){$("#getSerializedKey").click(function(){storeToStorageSimple($("#getSecurityType").val(),"securityType"),storeToStorageSimple($("#getSsid").val(),"ssid"),storeToStorageSimple($("#getPassword").val(),"password");var t=keyserializer.serialize({security:function(t){switch(t){case"0":return keyserializer.SECURITY_WPA_WPA2;case"1":return keyserializer.SECURITY_WEP;case"2":return keyserializer.SECURITY_NONE}}(getFromStorage("securityType")),ssid:getFromStorage("ssid"),password:getFromStorage("password"),devicekey:getFromStorage("devicekey")});postSerializeKey(t),recieveThanks=getFromStorage("recieveThanks"),$("#contents").children().animate({"margin-left":"-50%",opacity:"0"},define.a,function(){$(this).remove(),$("#contents").prepend(recieveThanks),initFunction(),$("#contents").children().css({"margin-left":"50%",opacity:"0"}).animate({"margin-left":"0",opacity:"1"},define.a,function(){registerFunction(),console.log("registerFunction is excuted")})}),initFunction()})}function postSerializeKey(t){$.ajax({url:"http://192.168.1.1/wifi",type:"POST",data:t}).done(function(){console.log("success")}).fail(function(){localStorage.clear(),console.log("error")}),console.log("ajax is end")}function initThanks(){$("#thanks").click(function(){location.reload(!0)})}function ajaxPost(t){console.log(t),$.ajax({type:"POST",url:define.url.messages,data:{clientkey:getFromStorage("clientkey"),deviceid:getFromStorage("deviceid"),message:JSON.stringify(t)},cache:!1,timeout:1e3}).done(function(){console.log("success")}).fail(function(t,e,o){return console.log(t),console.log(e),console.log(o),!1}).complete(function(t){console.log(t)})}function initVerifyer(){(void 0==localStorage.email||void 0==localStorage.clientkey||void 0==localStorage.deviceid||void 0==localStorage.devicekey)&&(define.status.account=!1),localStorage.irkitJsData||(define.status.data=!1)}function initContentHeight(){if(define.status.account)$("#contents").height(define.h()-$("header").height()-$("nav").height());else{var t=define.h()-$("header").height(),e=$("section").height();$("#contents").height(t),$("section").css({"margin-top":Math.floor((t-e)/2-$("header").height())})}}function addButton(){$(".addButton").click(function(){appearBottunConsole()})}function appearBottunConsole(){$.ajax({url:"add.html",type:"GET",dataType:"html"}).done(function(t){$("body").prepend('<div class="appearButtonShadow"></div>'),$("#contents").append(t).addClass("none").delay(define.a).removeClass("none"),addButtonName()}).fail(function(){console.log("error")})}function ajaxGet(){console.log("ajaxGet is start");var t=$.ajax({type:"GET",url:define.url.messages,async:!1,data:{clear:1,clientkey:getFromStorage("clientkey")},cache:!1,dataType:"json",timeout:1e3}).done(function(t){return console.log(t),console.log(t.message),console.log("ajaxGet is success"),t.message}).fail(function(){console.log("get is error")});return console.log(t),console.log(JSON.stringify(t)),JSON.stringify(t)}function addButtonName(){$("#addButtonName").click(function(){var t=$("#addButtonNameBody").val();void 0!=t[0]?(storeNewButton([ajaxGet(),t]),$("#addButtonName").off(),$("#addButtonNameConsole").hide(0,function(){$(this).remove()}),$(".appearButtonShadow").hide(0,function(){$(this).remove()})):console.log("名前を入れて下さい")})}function storeNewButton(t){console.log(t),console.log(t[0]),buttonObj={buttonId:buttonArray.length,buttonData:t[0],buttonName:t[1]},buttonArray.push(buttonObj),localStorage.setItem("irkitJsData",JSON.stringify(buttonArray)),$("ul.buttonList").children("li").remove(),initFunction()}function storeToStorage(t,e){localStorage.setItem(e,JSON.stringify(t[e]))}function storeToStorageSimple(t,e){localStorage.setItem(e,JSON.stringify(t))}function getFromStorage(t){return JSON.parse(localStorage.getItem(t))}function deleteFromStorage(t){return JSON.parse(localStorage.removeItem(t))}function dataInitialize(){$(".clear").click(function(){return localStorage.clear(),location.reload(!0),!1})}function ajaxLinkClick(){$("a").click(function(){return ajaxGetPage($(this).attr("href"),$(this).hasClass("outerLink")),!1})}function ajaxGetPage(t,e){return e?(location.href(t),void 0):($.ajax({url:t,type:"GET",dataType:"html"}).done(function(e){console.log(t+" ajaxGetPage is success"),checkUrl=this.url,$("#contents").children().animate({"margin-left":"-50%",opacity:"0"},define.a,function(){$(this).remove(),$("#contents").prepend(e),initFunction(),$("#contents").children().css({"margin-left":"50%",opacity:"0"}).animate({"margin-left":"0",opacity:"1"},define.a,function(){window.history.pushState(null,null,"?ref=#"+checkUrl)}),"home.html"==checkUrl||checkUrl.match(/init./)&&("init.wifi.html"==checkUrl&&getWifiSetting(ajaxGetPageStore("init.serialize.html"),ajaxGetPageStore("init.thanks.html")),registerFunction())})}),void 0)}function ajaxGetPageStore(t){var e=$.ajax({url:t,type:"GET",dataType:"html",async:!1}).done(function(t){return console.log("ajaxGetPageStore is success"),t});return e.responseText}function ajaxGetPageInit(){initVerifyer(),0==define.status.account?(void 0==localStorage.email?targetUrl="init.mail.html":void 0==localStorage.clientkey&&void 0==localStorage.deviceid&&void 0==localStorage.devicekey?targetUrl="init.clientkey.html":void 0==localStorage.securityType&&void 0==localStorage.ssid&&void 0==localStorage.password&&void 0==localStorage.devicekey&&(targetUrl="init.serialize.html"),$("body").addClass("initialize"),$("nav").addClass("disabled")):targetUrl="home.html",$.ajax({url:targetUrl,type:"GET",dataType:"html"}).done(function(t){$("#contents").prepend(t),"home.html"==targetUrl?initFunction():targetUrl.match(/init./)&&registerFunction()})}function tabSubButton(t,e){checkNum=parseInt($(e).find("button").css("left")),console.log(checkNum),0>checkNum?(console.log("right button is excuted"),t>0&&52>t?(console.log("appearButtonEditConsole is excuted"),appearButtonEditConsole(e)):t>52&&104>t&&tabSubButtonDelete(e)):checkNum>0&&(t>0&&52>t?tabSubButtonSortUp(e):t>52&&104>t&&tabSubButtonSortDown(e))}function tabSubButtonDelete(t){buttonArray=getFromStorage("irkitJsData"),targetId=$(t).attr("data-button-id"),buttonArray.splice(targetId,1),localStorage.removeItem("irkitJsData"),storeToStorageSimple(buttonArray,"irkitJsData"),$(t).animate({"margin-left":"-50%",opacity:"0"},define.a,function(){$(this).remove(),buttonListPosition()})}function tabSubButtonEdit(t){buttonArray=getFromStorage("irkitJsData"),targetId=$(t).attr("data-button-id"),$("#editButtonName").click(function(){var t=$("#editButtonNameBody").val();void 0!=t[0]?(buttonArray[targetId].buttonName=t,$("#editButtonName").off(),$("#editButtonNameConsole").hide(0,function(){$(this).remove()}),$(".appearButtonShadow").hide(0,function(){$(this).remove()})):console.log("名前を入れて下さい"),localStorage.removeItem("irkitJsData"),storeToStorageSimple(buttonArray,"irkitJsData"),$(".buttonList").children("li").remove(),initFunction()})}function appearButtonEditConsole(t){$.ajax({url:"edit.html",type:"GET",dataType:"html"}).done(function(e){$("body").prepend('<div class="appearButtonShadow"></div>'),$("#contents").append(e).addClass("none").delay(define.a).removeClass("none"),tabSubButtonEdit(t)}).fail(function(){console.log("error")})}function tabSubButtonSortUp(t){return console.log("tabSubButtonSortUp is excuted"),buttonArray=getFromStorage("irkitJsData"),targetId=Number($(t).attr("data-button-id")),void 0==buttonArray[targetId+1]?!1:(localStorage.removeItem("irkitJsData"),buttonArray[targetId].buttonId=targetId+1,buttonArray[targetId+1].buttonId=targetId,current=$(t).css("top"),prev=$(t).prev("li").css("top"),$(t).attr("data-button-id",targetId+1),$(t).prev("li").attr("data-button-id",targetId),holdItem=$(t).prev("li"),$(t).animate({top:prev},define.a,function(){$(this).after(holdItem),$(holdItem).animate({top:current},define.a)}),buttonIdSort(buttonArray),storeToStorageSimple(buttonArray,"irkitJsData"),void 0)}function tabSubButtonSortDown(t){return buttonArray=getFromStorage("irkitJsData"),targetId=Number($(t).attr("data-button-id")),void 0==buttonArray[targetId-1]?!1:(localStorage.removeItem("irkitJsData"),buttonArray[targetId].buttonId=targetId-1,buttonArray[targetId-1].buttonId=targetId,current=$(t).css("top"),next=$(t).next("li").css("top"),$(t).attr("data-button-id",targetId-1),$(t).next("li").attr("data-button-id",targetId),holdItem=$(t).next("li"),$(t).animate({top:next},define.a,function(){$(this).before(holdItem),$(holdItem).animate({top:current},define.a)}),buttonIdSort(buttonArray),storeToStorageSimple(buttonArray,"irkitJsData"),void 0)}function controllerSwiper(){console.log("controllerSwiper is excuted"),$(".buttonList").children("li").hammer().on("panleft panright panend tap press",function(t){switch(t.type){case"tap":console.log($(this).attr("data-button-id")),ajaxPost(getFromStorage("irkitJsData")[$(this).attr("data-button-id")].buttonData);break;case"panright":$(this).find(".sortUp").addClass("active"),t.gesture.distance>52&&($(this).find(".sortUp").removeClass("active"),$(this).find(".sortDown").addClass("active")),$(this).find("button").css("left",t.gesture.distance+"px"),t.gesture.distance>104&&(console.log("over 104px"),$(this).find("button").css("left","104px"));break;case"panleft":$(this).find(".edit").addClass("active"),parseInt($(this).find("button").css("left"))<=0?$(this).find("button").css("left",-t.gesture.distance+"px"):$(this).find("button").css("left",t.gesture.distance+"px"),t.gesture.distance>52&&($(this).find(".edit").removeClass("active"),$(this).find(".delete").addClass("active")),t.gesture.distance>104&&$(this).find("button").css("left","-104px");break;case"panend":$(this).find("button").animate({left:"0px"},define.a),tabSubButton(t.gesture.distance,this)}})}!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.keyserializer=t()}}(function(){return function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){var o=e[r][1][t];return i(o?o:t)},l,l.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(t,e){function o(t,e,o){var a,r,s;for(a="undefined"==typeof o?n:o,r=0;e>r;r++){var c;if("number"==typeof t){if(t>255)throw"only input less than 1byte as number";c=t}else{if("string"!=typeof t)throw"only number or string allowed";c=r<t.length?t.charCodeAt(r):0}for(a^=c,s=0;8>s;s++)128&a?a=a<<1^i:a<<=1;a&=255}return a}var n=0,i=49;e.exports=o},{}],2:[function(t,e){function o(t){return t}function n(t){for(var e="",o=0;o<t.length;o++)e+=t.charCodeAt(o).toString(16).toUpperCase();return e}function i(t){for(var e="",o=0;o<t.length;o++)e+=t.charCodeAt(o).toString(16).toUpperCase();return e}function a(t){for(var e="",o=0;o<t.length;o++)e+=t.charCodeAt(o).toString(16).toUpperCase();return i(e)}function r(t){return t}function s(t){var e;return e=l(t.security,1),e=l(t.ssid,33,e),e=l(t.password,64,e),e=l(1,1,e),e=l(0,1,e),e=l(t.devicekey,33,e),e.toString(16).toUpperCase()}function c(t){return[o(t.security),n(t.ssid),t.security==d?a(t.password):i(t.password),r(t.devicekey),"2","","","","","",s(t)].join("/")}var l=t("./crc8");const u=8,d=2,g=0;e.exports={serialize:c,SECURITY_WPA_WPA2:u,SECURITY_WEP:d,SECURITY_NONE:g}},{"./crc8":1}]},{},[2])(2)});var define={w:function(){return $(window).width()},h:function(){return $(window).height()},s:function(){return $(document).scrollTop()},b:480,a:200,url:{messages:"https://api.getirkit.com/1/messages",clients:"https://api.getirkit.com/1/clients",apps:"https://api.getirkit.com/1/apps",devices:"https://api.getirkit.com/1/devices"},status:{account:!0,data:!0},loadCounter:0};buttonArray=[],irkitJsDataStore={},$(window).load(function(){ajaxGetPageInit()}),function(t,e,o,n,i,a,r){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,a=e.createElement(o),r=e.getElementsByTagName(o)[0],a.async=1,a.src=n,r.parentNode.insertBefore(a,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-33205064-8","auto"),ga("require","linkid","linkid.js"),ga("send","pageview");
//# sourceMappingURL=functions.min.js.map